<main class=" pb-8">
  <div class="mx-auto max-w-3xl px-4 sm:px-6 lg:max-w-7xl lg:px-8">
    <h1 class="sr-only">Profile</h1>
    <!-- Main 3 column grid -->
    <div class="grid grid-cols-1 items-start gap-4 lg:grid-cols-3 lg:gap-8">
      <!-- Left column -->
      <div class="grid grid-cols-1 gap-4 lg:col-span-2">
        <!-- Welcome panel -->
        <%= render partial: 'shared/user_overview', locals: {user: current_user} %>
        <!-- Actions Tasks -->
        
      
      </div> 

      <!-- Right column -->
      <div class="grid grid-cols-1 gap-4">
        <!-- Announcements -->
        <section aria-labelledby="announcements-title">
          <div class="overflow-hidden rounded-lg bg-white shadow">
            <div class="p-6">
              <!--<h2 class="text-base font-medium text-gray-900" id="announcements-title"><%= t("views.dashboard.announcements_title") %></h2> -->
              <div class="mt-3 flow-root">
                <ul role="list" class="-my-5 divide-y divide-gray-200">
                     <!--div class="rounded-md bg-blue-50 my-1 p-2">
                      <div class="flex">
                        <div class="ml-3 flex-1 md:flex md:justify-between">
                          <p class="text-sm text-blue-700"><%= t("views.announcements.no_announcement_exists")%></p>
                        </div>
                      </div>
                    </div -->
                    <li class="py-5">
                      <div class="relative focus-within:ring-2 focus-within:ring-cyan-500">
                        <div class="flex items-center gap-x-4 text-xs">
                         <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 18 18">
                           <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 1h12M3 1v16M3 1H2m13 0v16m0-16h1m-1 16H3m12 0h2M3 17H1M6 4h1v1H6V4Zm5 0h1v1h-1V4ZM6 8h1v1H6V8Zm5 0h1v1h-1V8Zm-3 4h2a1 1 0 0 1 1 1v4H7v-4a1 1 0 0 1 1-1Z"/>
                         </svg>
                         <p class="text-sm text-gray-700 font-bold"> Sites: <span class="text-lg font-semibold"> <%= Site.count()%>  </span> </p>
                        </div>
                      </div>
                    </li>

                    <li class="py-5">
                      <div class="relative focus-within:ring-2 focus-within:ring-cyan-500">
                        <div class="flex items-center gap-x-4 text-xs">
                         <svg class="w-[24px] h-[24px] text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20">
                          <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.333 6.764a3 3 0 1 1 3.141-5.023M2.5 16H1v-2a4 4 0 0 1 4-4m7.379-8.121a3 3 0 1 1 2.976 5M15 10a4 4 0 0 1 4 4v2h-1.761M13 7a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm-4 6h2a4 4 0 0 1 4 4v2H5v-2a4 4 0 0 1 4-4Z"/>
                        </svg>
                         <p class="text-sm text-gray-700 font-bold"> Agent: <span class="text-lg font-semibold"> <%= User.count()%> </span></p>
                        </div>
                      </div>
                    </li>

                    <li class="py-5">
                      <div class="relative focus-within:ring-2 focus-within:ring-cyan-500">
                        <div class="flex items-center gap-x-4 text-xs">
                          <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 14 20">
                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 14h12M1 4h12M6.5 16.5h1M2 1h10a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1Z"/>
                          </svg>
                          <p class="text-sm text-gray-700 font-bold"> Equipments: <span class="text-lg font-semibold"> <%= Equipment.count()%> </span>  </p>
                        </div>
                      </div>
                    </li>
                </ul>
              </div>
              <!--div class="mt-6">
                <button  class="flex w-full items-center justify-center rounded-md bg-white px-3 py-2 text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50">
                    Go
                </button>
              </div -->
            </div>
          </div>
        </section>

        <!-- Recent Hires -->
        <section aria-labelledby="recent-hires-title">
          <div class="overflow-hidden rounded-lg bg-white shadow">
            <div class="p-6">
              <h2 class="text-base font-medium text-gray-900" id="recent-hires-title"><%= t("views.dashboard.recent_added_users") %></h2>
              <div class="mt-6 flow-root">
                <ul role="list" class="-my-5 divide-y divide-gray-200">
                  <% @users.each do |user|%>
                    <li class="py-4">
                      <div class="relative flex items-center gap-x-4">
                        <%= image_tag user.avatar_url_or_default, class: "rounded-full h-10 w-10 align-middle" %>
                        <div class="text-sm leading-6">
                          <p class="font-semibold text-gray-900"><%= user.full_name.capitalize %></p>
                          <p class="text-gray-600"><%= user&.job_title %></p>
                        </div>
                      </div>
                    </li>
                  <% end %>
                </ul>
              </div>
            </div>
          </div>
        </section>

        <section aria-labelledby="recent-hires-title">
          <div class="overflow-hidden rounded-lg bg-white shadow">
            <div class="p-6">
              <h2 class="text-base font-medium text-gray-900" id="recent-hires-title"><%= t("views.dashboard.all_sites") %></h2>
              <div class="mt-6 flow-root">
                <ul role="list" class="-my-5 divide-y divide-gray-200">
                  <% @sites.each do |site| %>
                    <li class="py-4">
                      <div class="relative flex items-center gap-x-4">
                         <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 18 18">
                           <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 1h12M3 1v16M3 1H2m13 0v16m0-16h1m-1 16H3m12 0h2M3 17H1M6 4h1v1H6V4Zm5 0h1v1h-1V4ZM6 8h1v1H6V8Zm5 0h1v1h-1V8Zm-3 4h2a1 1 0 0 1 1 1v4H7v-4a1 1 0 0 1 1-1Z"/>
                         </svg>
                        <div class="text-sm leading-6">
                          <p class="font-semibold text-gray-900"><%= site.name %></p>
                        </div>
                      </div>
                    </li>
                  <% end %>
                </ul>
              </div>
            </div>
          </div>
        </section>
      </div>
    </div>
  </div>
</main>
